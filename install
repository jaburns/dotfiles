#!/usr/bin/env bash

REPO_DIR="$( cd "$( dirname "${BASH_SOURCE[0]}" )" && pwd )"

install() {
    rm -f "$HOME/$1"
    ln "$REPO_DIR/$1" "$HOME/$1"
    echo "Linking '$REPO_DIR/$1' -> '$HOME/$1'"
}

install file .bashrc
install file .vimrc
install file .gitconfig
install file .gitignore_global
install file .tmux.conf
git config --global core.excludesfile ~/.gitignore_global

if [[ "$OSTYPE" == *darwin* ]]; then
    echo 'source ~/.bashrc' > ~/.bash_profile
    install file .vrapperrc
    install file .slate
    rm -f '/Users/jaburns/Library/Application Support/Code/User/settings.json'
    ln -s "$REPO_DIR/vscode_settings.json" '/Users/jaburns/Library/Application Support/Code/User/settings.json'
fi
# TODO install vscode settings file in windows under WSL
